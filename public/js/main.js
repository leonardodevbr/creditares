function showDetails(jsonData) {
    let property = JSON.parse(atob(jsonData));
    let modal = $('#modalDetails');

    modal.modal('show').on('shown.bs.modal', function () {
        let propertyDetails = $('#propertyDetails');
        let html = '';

        html += '<div class="card mt-3">';
        html += '    <div class="card-header">';
        html += '        <p class="card-title m-0 p-0">Informações Gerais</p>';
        html += '    </div>';
        html += '    <div class="card-body">';
        html += '        <div class="row">';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="nome_imovel">Nome</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="nome_imovel" value="' + property.nome_imovel + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="car">CAR</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="car" value="' + property.car + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="nirf">NIRF</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="nirf" value="' + property.nirf + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="incra">INCRA</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="incra" value="' + property.incra + '">';
        html += '                </div>';
        html += '            </div>';
        html += '        </div>';
        html += '        <div class="row">';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="matricula">Matrícula</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="matricula" value="' + property.matricula + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="tipo_exploracao">Tipo de Exploração</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="tipo_exploracao" value="' + property.tipo_exploracao + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="geo_localizada">Geolocalizada?</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="geo_localizada" value="' + (property.geo_localizada ? 'SIM' : 'NÃO') + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="matricula">Matrícula</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="matricula" value="' + property.matricula + '">';
        html += '                </div>';
        html += '            </div>';
        html += '        </div>';
        html += '    </div>';
        html += '</div>';
        html += '<div class="card mt-4">';
        html += '    <div class="card-header">';
        html += '        <p class="card-title m-0 p-0">Endereço</p>';
        html += '    </div>';
        html += '    <div class="card-body">';
        html += '        <div class="row">';
        html += '            <div class="col-lg-5">';
        html += '                <div class="form-group">';
        html += '                    <label for="endereco">Logradouro</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="endereco" value="' + property.endereco + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-1">';
        html += '                <div class="form-group">';
        html += '                    <label for="numero">Número</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="numero" value="' + property.numero + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="bairro">Bairro</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="bairro" value="' + property.bairro + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-3">';
        html += '                <div class="form-group">';
        html += '                    <label for="municipio">Cidade</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="municipio" value="' + property.municipio + '">';
        html += '                </div>';
        html += '            </div>';
        html += '        </div>';
        html += '        <div class="row">';
        html += '            <div class="col-lg-2">';
        html += '                <div class="form-group">';
        html += '                    <label for="uf">UF</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="uf" value="' + property.uf + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-6">';
        html += '                <div class="form-group">';
        html += '                    <label for="complemento">Complemento</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="complemento" value="' + property.complemento + '">';
        html += '                </div>';
        html += '            </div>';
        html += '            <div class="col-lg-4">';
        html += '                <div class="form-group">';
        html += '                    <label for="cep">CEP</label>';
        html += '                   <input class="form-control" readonly disabled type="text" id="cep" value="' + property.cep + '">';
        html += '                </div>';
        html += '            </div>';
        html += '        </div>';
        html += '    </div>';
        html += '</div>';
        html += '<div class="card mt-4">';
        html += '    <div class="card-header">';
        html += '        <p class="card-title m-0 p-0">Atividades</p>';
        html += '    </div>';
        html += '    <div class="card-body p-0">';
        html += '        <div class="table-responsive text-nowrap">';
        html += '            <table class="table table-striped">';
        html += '                <thead>';
        html += '                <tr>';
        html += '                    <th>ID</th>';
        html += '                    <th>Cultura</th>';
        html += '                    <th>Área de Plantio</th>';
        html += '                    <th>Produtividade</th>';
        html += '                    <th>Preço</th>';
        html += '                    <th>Custo</th>';
        html += '                    <th>Ano</th>';
        html += '                </tr>';
        html += '                </thead>';
        html += '                <tbody>';

        if (property.atividades.length) {
            $.each(property.atividades, function (index, activity) {
                html += '                    <tr>';
                html += '                        <td>' + activity.id + '</td>';
                html += '                        <td>' + activity.cultura + '</td>';
                html += '                        <td>' + activity.area_plantio + '</td>';
                html += '                        <td>' + activity.produtividade + '</td>';
                html += '                        <td>' + activity.preco + '</td>';
                html += '                        <td>' + activity.custo + '</td>';
                html += '                        <td>' + activity.ano + '</td>';
                html += '                    </tr>';
            });
        } else {
            html += '                    <tr>';
            html += '                        <td class="text-center" colspan="7">Nenhuma atividade encontrada</td>';
            html += '                    </tr>';
        }

        html += '                </tbody>';
        html += '            </table>';
        html += '        </div>';
        html += '    </div>';
        html += '</div>';

        propertyDetails.html(html);
    });
}
